<% if notice %>
  <p class="alert alert-success"><%= notice %></p>
<% end %>

<h1>Flatiron Ladder</h1>

<div id="clickRules">Click to toggle ladder rules!</div>

<div id="hiddenRules">
  <ol class="list-style">
    <li>Any player can challenge a player above him or her on the ladder.</li>
    <li>If the lower-placed player wins the match, then the two players swap places on the ladder.</li>
    <li>If the lower-placed player loses, then he or she may not challenge the same person again without challenging someone else first.</li>
    <li>There is no limit as to how many rungs above themselves players may challenge.</li>
  </ol>
</div>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Name</th>
      <th>Current Rank</th>
      <th>ELO</th>
      <th>Wins</th>
      <th>Losses</th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @players.each do |player| %>
      <tr>
        <td><%= player.name %></td>
        <td><%= player.ranking %></td>
        <td><%= player.elo %></td>
        <td><%= player.wins.count %></td>
        <td><%= player.losses.count %></td>
        <td><%= link_to 'Show', player %></td>
        <td><%= link_to 'Edit', edit_player_path(player) %></td>
        <td><%= link_to 'Destroy', player, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= link_to 'New Challenge', new_challenge_path %> | 
<%= link_to 'New Player', new_player_path %>